<!--viewFolder.ejs-->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" href="/stylesheets/viewFolder.css">
  <title>Folder Details</title>
</head>
<body>
  <h1>Folder Details: <%= folder.name %></h1>
  <% if (folder.files && folder.files.length > 0) { %>
    <ul>
      <% folder.files.forEach(file => { %>
        <li>
          <a href="/view/<%= file.id %>"><%= file.filename %></a>
        </li>
      <% }) %>
    </ul>
  <% } else { %>
    <p>No files present. <a href="/upload">Add one</a></p>
  <% } %>
  <ul>
    <li>
      <form action="/folders/<%= folder.id %>?_method=PUT" method="post">
        <input type="text" name="name" value="<%= folder.name %>" required />
        <button type="submit">Update Folder</button>
      </form> 
    </li>
    <li>
      <form action="/folders/<%= folder.id %>?_method=DELETE" method="POST" style="display: inline;">
        <button type="submit" onclick="return confirm('Are you sure you want to delete this folder?');">Delete Folder</button>
      </form>
    </li>
  </ul>
  <a href="/">Home</a>
</body>
</html>
